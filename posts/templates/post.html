{% extends "header.html" %}
{% block content %}
{% load crispy_forms_tags %}

<div class="container">
  <div class="row mb-5">
    <div class="col-md-8 col-xl-6 text-center mx-auto">
      <h2>New Post</h2>
      <p>Share what's on your mind</p>
    </div>
  </div>
  <div class="row d-flex justify-content-center">
    <div class="col-md-6 col-xl-4">
      {% if user.is_authenticated %}
        <form
          class="container d-flex flex-column justify-content-center align-items-center"
          action=""
          method="POST"
        >
          {% csrf_token %} 
          {{ form|crispy }}

          <input
            class="btn btn-primary text-center border rounded border-primary"
            style="
              background: var(--bs-primary);
              color: #ffffff;
              font-size: 16px;
              font-weight: bold;
              margin: 8px;
            "
            role="button"
            type="submit"
            value="Post"
          />
        </form>
      {%else%}
        <div class="text-center">
          <a class="btn btn-primary text-center border rounded border-primary"
          style="
            background: var(--bs-primary);
            color: #ffffff;
            font-size: 16px;
            font-weight: bold;
            margin: 4px;
          " 
          href="/login" role="button">
            Login
          </a>
        </div>
      {%endif%}
  </div>
</div>
{% endblock %}
